<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pops-core: Change Log</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">pops-core
   &#160;<span id="projectnumber">0.9</span>
   </div>
   <div id="projectbrief">PoPS (Pest or Pathogen Spread) Model Core C++ library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Change Log </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>All notable changes to this project should be documented in this file.</p>
<p>The <em>Unreleased</em> section should become the release once the release is ready and the text can be used as part of the release description. The pre-release historical sections are using dates and topics as section headings instead of release numbers.</p>
<p>The format is based on <a href="https://keepachangelog.com/en/1.0.0/">Keep a Changelog</a>, and this project adheres to <a href="https://semver.org/spec/v2.0.0.html">Semantic Versioning</a> with an additional rule that interfaces to the core library follow the same numbering although they are in separate repositories, so increasing version number there increases version here although there is no specific tag or release for that in this repository.</p>
<h1><a class="anchor" id="autotoc_md18"></a>
&lt;a href="https://github.com/ncsu-landscape-dynamics/pops-core/compare/v1.0.2...HEAD"&gt;Unreleased&lt;/a&gt;</h1>
<h1><a class="anchor" id="autotoc_md19"></a>
&lt;a href="https://github.com/ncsu-landscape-dynamics/pops-core/compare/v1.0.2...v1.1.0"&gt;1.1.0&lt;/a&gt; - 2021-06-18</h1>
<h2><a class="anchor" id="autotoc_md20"></a>
Added</h2>
<ul>
<li>Pest movement based on overpopulation (Vaclav Petras)<ul>
<li>When cell contains too many pests, pests leave and move to a different cell.</li>
</ul>
</li>
<li>Total hosts added to run_step (Chris Jones)<ul>
<li>Allows overpopulations to be based on total_hosts rather than total_populations</li>
<li>Allows movement to be based on total_hosts rather than total_populations</li>
</ul>
</li>
<li>Mortality timing is now more flexible (Chris Jones)<ul>
<li>requires 2 new parameters mortality_frequency and mortality_frequency_n</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md21"></a>
Changed</h2>
<ul>
<li>Model class internal attributes and functions are now protected instead of private to allow derived classes to access them for greater flexibility (Vaclav Petras).</li>
<li>Model class kernels are now created and returned by protected functions (Vaclav Petras).</li>
<li>Config class has now more defaults and subsequent setup now consistently fails when required values were not set (Vaclav Petras).</li>
<li>Movement module has added parameters (<code>mortality_tracker_vector</code>, <code>exposed</code>, <code>resistant</code>, <code>total_exposed</code>, and <code>suitable_cells</code>) (Chris Jones).<ul>
<li>Now moves exposed and resistant populations</li>
<li>Now moves total_hosts</li>
<li>Now moves moratility tracked hosts</li>
<li>Adds a new suitable_cell if a movement creates a new location with hosts.</li>
</ul>
</li>
<li>Treatments now modify total hosts (Chris Jones)</li>
<li>Citation updated to PoPS Frontiers paper (Chris Jones)<ul>
<li>Jones, C., Jones, S., Petrasova, A., Petras, V., Gaydos, D., Skrip, M., Takeuchi, Y., Bigsby, K., and Meentemeyer, R., 2021. Iteratively forecasting biological invasions with PoPS and a little help from our friends. <em>Frontiers in Ecology and the Environment</em> <a href="https://doi.org/10.1002/fee.2357">DOI: 10.1002/fee.2357</a></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md22"></a>
&lt;a href="https://github.com/ncsu-landscape-dynamics/pops-core/compare/v1.0.1...v1.0.2"&gt;1.0.2&lt;/a&gt; - 2020-10-09</h1>
<ul>
<li><a href="https://github.com/ncsu-landscape-dynamics/rpops/releases/tag/v1.0.2">Patch release of rpops</a> (no changes in pops-core)</li>
</ul>
<h1><a class="anchor" id="autotoc_md23"></a>
&lt;a href="https://github.com/ncsu-landscape-dynamics/pops-core/compare/v1.0.0...v1.0.1"&gt;1.0.1&lt;/a&gt; - 2020-09-11</h1>
<ul>
<li><a href="https://github.com/ncsu-landscape-dynamics/r.pops.spread/releases/tag/v1.0.1">Patch release of r.pops.spread</a> (no changes in pops-core)</li>
</ul>
<h1><a class="anchor" id="autotoc_md24"></a>
&lt;a href="https://github.com/ncsu-landscape-dynamics/pops-core/tree/v1.0.0"&gt;1.0.0&lt;/a&gt; - 2020-09-10</h1>
<ul>
<li>Susceptible-infected (SI) and susceptible-exposed-infected (SEI) host phases,</li>
<li>Host mortality tracking,</li>
<li>Host removal and pesticide application treatments,</li>
<li>Host resistance based on pesticide application treatments,</li>
<li>Treatments applied only to a ratio of hosts,</li>
<li>Seasonal spread limited to certain months,</li>
<li>Limited host movement (experimental),</li>
<li>Yearly pest removal based on lethal temperature,</li>
<li>Two different dispersal kernels (natural and anthropogenic),</li>
<li>Cauchy and exponential radial dispersal kernels,</li>
<li>Reduced stochasticity options and deterministic versions of kernels,</li>
<li>Spread rate measurement,</li>
<li>Quarantine and study area escape measurements,</li>
<li>C++ API centered around two classes: <a class="el" href="classpops_1_1Model.html">pops::Model</a> and <a class="el" href="classpops_1_1Config.html">pops::Config</a>.</li>
</ul>
<h1><a class="anchor" id="autotoc_md25"></a>
2020-08-27 - Version 1 preparations</h1>
<h2><a class="anchor" id="autotoc_md26"></a>
Changed</h2>
<ul>
<li>The C++ library project renamed from PoPS to PoPS Core.</li>
<li>Only the current weather coefficient is now passed to the model class.</li>
<li>Raster class uses <code>int</code> by default for indexing.</li>
</ul>
<h2><a class="anchor" id="autotoc_md27"></a>
Fixed</h2>
<ul>
<li>Numerous compiler warnings fixed. Code now compiles with -Wall -Wextra.</li>
</ul>
<h1><a class="anchor" id="autotoc_md28"></a>
2020-08-12</h1>
<h2><a class="anchor" id="autotoc_md29"></a>
Fixed</h2>
<ul>
<li>Exposed class now being removed with treatments<ul>
<li>Added exposed class treatments to model class</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md30"></a>
2020-05-15 - Reducing stochasticity</h1>
<h2><a class="anchor" id="autotoc_md31"></a>
Added</h2>
<ul>
<li>Stochasticity in Simulation can now be optionally reduced. (Vaclav Petras)<ul>
<li>Simulation constructor takes additional parameters to disable stochasticity in generate and disperse functions, particularly in generating and establishing dispersers.</li>
<li>The disperse function takes additional parameter which is a fixed probability value when disperser is established.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md32"></a>
2020-04-16 - SEI model</h1>
<h2><a class="anchor" id="autotoc_md33"></a>
Added</h2>
<ul>
<li>Exposed host tracking with latency period to run SEI models. (Vaclav Petras)</li>
</ul>
<h2><a class="anchor" id="autotoc_md34"></a>
Changed</h2>
<ul>
<li>Step numbering is now expected to start at zero. (Vaclav Petras)</li>
</ul>
<h1><a class="anchor" id="autotoc_md35"></a>
2020-01-04 - Movement Module</h1>
<h2><a class="anchor" id="autotoc_md36"></a>
Added</h2>
<ul>
<li>movement modeule to the simulation class to move hosts from one location to another. (Chris Jones)</li>
</ul>
<h1><a class="anchor" id="autotoc_md37"></a>
2019-12-18 - More date functionality</h1>
<h2><a class="anchor" id="autotoc_md38"></a>
Added</h2>
<ul>
<li>functions to check if a date is the last day or week of a month</li>
</ul>
<h1><a class="anchor" id="autotoc_md39"></a>
2019-10-29 - More raster generalizations</h1>
<h2><a class="anchor" id="autotoc_md40"></a>
Added</h2>
<ul>
<li>Raster can now hold data from some other object as long as the types and layout match. (Vaclav Petras)</li>
<li>Raster Index and Number types exposed using typedefs.</li>
</ul>
<h2><a class="anchor" id="autotoc_md41"></a>
Changed</h2>
<ul>
<li>Raster now has optional template parameter for the type of index used in the class. (Vaclav Petras)</li>
</ul>
<h2><a class="anchor" id="autotoc_md42"></a>
Fixed</h2>
<ul>
<li>Signed and unsigned types are no longer arbitrarily mixed in the interface, e.g., <code>(int, int)</code> constructor is now <code>(Index, Index)</code> being consistent with <code>cols()</code> and <code>rows()</code> functions. (Vaclav Petras)</li>
</ul>
<h1><a class="anchor" id="autotoc_md43"></a>
2019-09-05 - Dispersal kernel rewrite</h1>
<h2><a class="anchor" id="autotoc_md44"></a>
Added</h2>
<ul>
<li>More complete list of operators supported by Raster. (Vaclav Petras)</li>
<li>Rasters with different numerical types can be used in a single expression (Vaclav Petras)</li>
</ul>
<h2><a class="anchor" id="autotoc_md45"></a>
Changed</h2>
<ul>
<li>Binary operators for rasters are now function templates instead of member functions (Vaclav Petras)</li>
</ul>
<h1><a class="anchor" id="autotoc_md46"></a>
2019-08-11 - Dispersal kernel rewrite</h1>
<h2><a class="anchor" id="autotoc_md47"></a>
Added</h2>
<ul>
<li>Radial exponential kernel and a uniform kernel (Vaclav Petras)<ul>
<li>Any combination of kernels is now possible on the library level.</li>
</ul>
</li>
<li>Functions to convert from strings to kernel-related enums.</li>
</ul>
<h2><a class="anchor" id="autotoc_md48"></a>
Changed</h2>
<ul>
<li>Dispersal kernel are organized as classes (functors). (Vaclav Petras)<ul>
<li>The disperse function is now a function template in the Simulation.</li>
<li>Dispersal kernel is a function (functor) called from the Simulation.</li>
<li>The Simulation class does not have any kernel-related parameters or members.</li>
</ul>
</li>
<li>Usage of std::cout related to kernels was replaced by exceptions in the new code. (Vaclav Petras)</li>
<li>Kernel-related enums are not strongly typed using enum class (Vaclav Petras)</li>
</ul>
<h2><a class="anchor" id="autotoc_md49"></a>
Fixed</h2>
<ul>
<li>A call to abs function on the distance used for spread caused conversion to int. Now std::abs is used so double is used throughout. This changes simulation results. (Vaclav Petras)</li>
<li>Resolution is now double instead of int. This changes results in cases when the resolution is not a integer number (even when it is so close to the closest higher integer that it is printed out without any decimal places by software considering it, possibly correctly, close enough from user perspective). This was also reported in the issue #26. (Vaclav Petras)</li>
</ul>
<h1><a class="anchor" id="autotoc_md50"></a>
2019-07-11</h1>
<h2><a class="anchor" id="autotoc_md51"></a>
Added</h2>
<ul>
<li>The Raster class has a new function data() which provides access to the underlying array. This follows the example of similar addition to std::vector in C++11. The Raster class is now handling the memory and provides raster algebra semantics, but its users have direct access to the underlying data. (Vaclav Petras)</li>
</ul>
<h2><a class="anchor" id="autotoc_md52"></a>
Changed</h2>
<ul>
<li>The optional support for GRASS GIS reading and writing GRASS GIS rasters was removed from the Raster class. This needs to be now handled in the GRASS GIS module. (Vaclav Petras)</li>
<li>Formerly private variables in Raster class are now only protected so that derived classes can have direct access to them, e.g., in the constructor. (Vaclav Petras)</li>
<li>Private/protected variables in Raster class are now using the rows and columns terminology and trailing underscores. (Vaclav Petras)</li>
</ul>
<h2><a class="anchor" id="autotoc_md53"></a>
Fixed</h2>
<ul>
<li>In some cases (depending on compiler and use of GRASS GIS), sqrt was not accessible in the simulation code leading to compilation error. Now std::sqrt is used. (Vaclav Petras)</li>
</ul>
<h1><a class="anchor" id="autotoc_md54"></a>
2019-07-09</h1>
<h2><a class="anchor" id="autotoc_md55"></a>
Added</h2>
<ul>
<li>Added ability to set number of days for the timestep instead of day, week, or month. This is useful if the pest has multiple generations in a year. (Chris Jones)</li>
</ul>
<h2><a class="anchor" id="autotoc_md56"></a>
Changed</h2>
<ul>
<li>Made extension of the 52 week to be 8 or 9 (leap years) days instead of 7 to ensure that the next year starts on Jan 1st. This makes forecasting into the future more streamlined. (Chris Jones)</li>
</ul>
<h1><a class="anchor" id="autotoc_md57"></a>
2019-06-14</h1>
<h2><a class="anchor" id="autotoc_md58"></a>
Added</h2>
<ul>
<li>Added types of treatment application. Removing a portion for both susceptible and infected, like in SLF case, and a portion from susceptible all all infected in given cells, like in SOD case. (Vaclav Petras)</li>
</ul>
<h1><a class="anchor" id="autotoc_md59"></a>
2018-11-17</h1>
<ul>
<li>Added mortality function to simulation class</li>
</ul>
<h1><a class="anchor" id="autotoc_md60"></a>
2018-10-31 - Minor Refactoring</h1>
<h2><a class="anchor" id="autotoc_md61"></a>
Added</h2>
<ul>
<li>Added Season class to manage seasonality</li>
</ul>
<h2><a class="anchor" id="autotoc_md62"></a>
Changed</h2>
<ul>
<li>Removed resolution from the Raster class</li>
</ul>
<h1><a class="anchor" id="autotoc_md63"></a>
2018-09-20 - Variable Rename</h1>
<h2><a class="anchor" id="autotoc_md64"></a>
Added</h2>
<ul>
<li>Created a style guide in a CONTRIBUTING file. (Vaclav Petras)</li>
</ul>
<h2><a class="anchor" id="autotoc_md65"></a>
Changed</h2>
<ul>
<li>Renamed variables and functions to make the model more clear and easy to understand. (Chris Jones)</li>
<li>Renaming and partial unification of styles across all files. (Vaclav Petras)<ul>
<li>All is now in namespace called pops.</li>
<li>Private variables use trailing underscore if needed.</li>
</ul>
</li>
<li>Removed unused and legacy functions and types. (Vaclav Petras)</li>
</ul>
<h1><a class="anchor" id="autotoc_md66"></a>
2018-08-02 - PoPS Model Separation</h1>
<h2><a class="anchor" id="autotoc_md67"></a>
Changed</h2>
<ul>
<li>The general part of the simulation is now a separate library called PoPS. GRASS GIS module code was removed together with some parts of this file completely unrelated to the library. (Vaclav Petras)</li>
<li>All files which were not supposed to be part of the repository were removed and purged from the history. However, all the relevant history is preserved. (Vaclav Petras)</li>
</ul>
<h1><a class="anchor" id="autotoc_md68"></a>
2018-06-21 - Spotted Lanternfly</h1>
<h2><a class="anchor" id="autotoc_md69"></a>
Added</h2>
<ul>
<li>The date class now supports also month increments. (Vaclav Petras)</li>
<li>Critical temperature as the lowest temperature spores can survive in a provided month (Vaclav Petras)<ul>
<li>Temperature rasters are used at a specified month to check against a provided critical temperature and if the condition is met, infected trees become susceptible again.</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md70"></a>
Changed</h2>
<ul>
<li>Img was replaced by a generalized Raster template class which can handle both integers and floating point numbers. (Vaclav Petras)</li>
</ul>
<h1><a class="anchor" id="autotoc_md71"></a>
2018-06-04 - Mortality Addition</h1>
<h2><a class="anchor" id="autotoc_md72"></a>
Added</h2>
<ul>
<li>Mortality (Vaclav Petras)</li>
<li>Image class constructor taking another image using its dimensions and a provided value (Vaclav Petras)</li>
<li>Multiply for image class is commutative (Vaclav Petras)</li>
</ul>
<h1><a class="anchor" id="autotoc_md73"></a>
2018-03-26 - March 2018 Update</h1>
<h2><a class="anchor" id="autotoc_md74"></a>
Changed</h2>
<ul>
<li>Explicitly include necessary standard C++ headers (Vaclav Petras)</li>
</ul>
<h1><a class="anchor" id="autotoc_md75"></a>
2017-09-05 - September 2017 Update</h1>
<h2><a class="anchor" id="autotoc_md76"></a>
Added</h2>
<ul>
<li>Long-range dispersal kernel (Anna Petrasova)<ul>
<li>Events are recorded.</li>
<li>The affected points are exported as a vector map.</li>
</ul>
</li>
<li>Output probability of cell being infected (Vaclav Petras)</li>
<li>Optionally output one run for series instead of an average (Vaclav Petras)</li>
</ul>
<h2><a class="anchor" id="autotoc_md77"></a>
Changed</h2>
<ul>
<li>Spread of SOD based on a single species (Anna Petrasova)<ul>
<li>Spread for UMCA and oak replaced by single species, assumed tanoak.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md78"></a>
2017-01-28 - January 2017 Status</h1>
<h2><a class="anchor" id="autotoc_md79"></a>
Added</h2>
<ul>
<li>Simplified weather inputs (Vaclav Petras)<ul>
<li>Weather can be supplied as as a text file (spatially constant)</li>
<li>Weather can be supplied as one variable (non-spatial and non-temporal)</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md80"></a>
Changed</h2>
<ul>
<li>Efficiency improvements (Vaclav Petras)<ul>
<li>Enable inlining of size getters of Img class which makes all_infected function much faster.</li>
<li>Move constructor and assignment operator added for cases when RVO is not applied.</li>
<li>Internal storage changed to one array (usually faster allocation).</li>
</ul>
</li>
<li>Code cleanup (Vaclav Petras)<ul>
<li>Use same API style for Von Mises as for std lib distributions.</li>
<li>Creating data for Img outside of the object is avoided.</li>
<li>Indexing the Img done using operator ().</li>
<li>Using operators for all operations which fit semantically.</li>
<li>Remove unused variables from the code.</li>
<li>The 'using namespace' statement replaced by explicit use 'using' for string and other classes or objects.</li>
</ul>
</li>
<li>Date class API extended to provide readable comparison operators replacing usage of method with unclear name (Anna Petrasova)</li>
<li>The cpl_string dependency was removed. (Vaclav Petras)</li>
<li>The sporulation object is now seeded only once in the beginning. This changes the stochastic output of one run. (Anna Petrasova)</li>
</ul>
<h2><a class="anchor" id="autotoc_md81"></a>
Fixed</h2>
<ul>
<li>Initialize memory for the sporulation object for the cases when it is zero cases to fix conditional jump which depends on uninitialised value. (Vaclav Petras)</li>
<li>Memory allocation and deallocation is done by the right pair of malloc-free or new-delete. (Vaclav Petras)</li>
<li>Compilation output and other non-repository files removed from the repository. (Vaclav Petras)</li>
<li>Von Mises distribution concentration parameter is float not integer. (Vaclav Petras)</li>
<li>Copy of GDAL code was removed from the repository, using system GDAL includes now. (Vaclav Petras) </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
